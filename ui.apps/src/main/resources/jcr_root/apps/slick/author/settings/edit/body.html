<body data-sly-use.editBlog="org.millr.slick.components.author.EditBlog">
	<sly data-sly-include="navigation.html"></sly>
	<div class="author-wrap">
		<sly data-sly-include="subNavigation.html"></sly>
		<div class="content" data-sly-use.settings="org.millr.slick.components.common.Settings">
			<section class="author-section">
				<form action="settings.edit.json" method="POST" id="settings-form" class="ajax-form">
					<h2>General</h2>
					<div>
						<label>Blog Name</label>
						<input type="text" name="blogName" value="${settings.blogName}" placeholder="Blog Name"/>
					</div>
					<div>
						<label>Blog Description</label>
						<input type="text" name="blogDescription" value="${settings.blogDescription}" placeholder="Blog Description"/>
					</div>
					<div>
						<label>Accent Color</label>
						<input type="text" name="accentColor" value="${settings.accentColor}" placeholder="Accent Color" class="jscolor" 
							   data-jscolor="{padding:10, borderRadius:0, borderWidth:0, shadow:false, insetColor:'#444', backgroundColor:'#444'}"/>
					</div>
					<div>
						<label>Default Hero Image</label>
						<input type="text" name="defaultImage" value="${settings.headerImage}" placeholder="Default Hero Image"/>
					</div>
					<div>
						<label>Analytics Script</label>
						<textarea name="analyticsScript" placeholder="Analytics Script (inclue script tag)">${settings.analyticsScript}</textarea>
					</div>
					<div class="checkbox">
						<label><input type="checkbox" name="useDispatcher" value="true" data-sly-attribute.checked="${settings.useDispatcher}"> Use Dispatcher</label>
					</div>
					<div class="form-footer">
						<input type="submit" value="Save" class="button accent-background"/>
					</div>
				</form>
			</section>
			<section id="dispatcher-caching" class="author-section" data-sly-test="${settings.useDispatcher}">
				<h2>Dispatcher Caching</h2>
				<div class="form-footer group">
					<div class="form-submit">
					<form class="cache-form ajax-form" action="/bin/slick/flushDispatcher">
						<input type="hidden" name="flushType" value="flushAll"/>
						<input type="submit" value="Flush All" class="button accent-background"/>
					</form>
					<form class="cache-form ajax-form" action="/bin/slick/flushDispatcher">
						<input type="hidden" name="flushType" value="flushContent"/>
						<input type="submit" value="Flush Content" class="button accent-background"/>
					</form>
					<form class="cache-form ajax-form" action="/bin/slick/flushDispatcher">
						<input type="hidden" name="flushType" value="flushUi"/>
						<input type="submit" value="Flush UI" class="button accent-background"/>
					</form>
				</div>
			</section>
		</div>
	</div>
	<div id="messages"></div>
	
	<script id="message" type="text/x-handlebars-template">
		<div id="{{messageId}}" class="message {{responseType}} show"><strong>{{responseType}}</strong> {{responseMessage}}</div>
	</script>
	
	<sly data-sly-include="scripts.html"></sly>
	<script src="/etc/slick/designs/slick/author/js/libs/jscolor.min.js"></script>
	<script src="/etc/slick/designs/slick/author/js/settings.js"></script>	
</body>
